<!-- views/correo.ejs -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Correos</title>
    <!-- Incluye Bootstrap desde una CDN (puedes descargarlo y agregarlo localmente si prefieres) -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>

    <style>
        /* Estilos generales */
body {
    font-family: 'Arial', sans-serif;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

/* Estilos para la tabla de correos */
.table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.table th, .table td {
    border: 1px solid #ddd;
    padding: 10px;
    text-align: left;
}

.table th {
    background-color: #f2f2f2;
}

/* Estilos para los botones y el modal */
.btn {
    padding: 10px 20px;
    margin: 5px;
}

/* Estilos para el modal */
.modal-content {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}
    </style>
<div class="container">
    <h1>Lista de Correos</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Tipo</th>
                <th>Asunto</th>
                <th>Fecha de Envío</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <% for (const correo of correos) { %>
                <tr>
                    <td><%= correo.Tipo %></td>
                    <td><%= correo.Subject %></td>
                    <td><%= formatDate(correo.SentOn) %></td>
                    <td>
                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#detalleModal<%= correo._id %>">
                            Ver Detalle
                        </button>
                    </td>
                </tr>

                <!-- Modal para el detalle del correo -->
                <div class="modal fade" id="detalleModal<%= correo._id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Detalle del Correo</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <!-- Contenido detallado del correo, puedes mostrar aquí más información -->
                                <p><strong>Asunto:</strong> <%= correo.Subject %></p>
                                <p><strong>Cuerpo:</strong> <%= correo.Body %></p>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>
        </tbody>
    </table>
</div>

<!-- Incluye Bootstrap JavaScript y Popper.js para el funcionamiento del modal -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
</html>